<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureConnect - Admin Panel</title>
    <link rel="stylesheet" href="/css/admin.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Orbitron:wght@400;700;900&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="noise-overlay"></div>

    <div class="admin-container">
        <aside class="admin-sidebar">
            <div class="admin-logo">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                </svg>
                <span>Admin Panel</span>
            </div>

            <nav class="admin-nav">
                <button class="nav-item active" onclick="showTab('transactions')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23" />
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                    </svg>
                    Transactions
                    <span class="badge" id="pendingBadge">0</span>
                </button>
                <button class="nav-item" onclick="showTab('users')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                        <circle cx="9" cy="7" r="4" />
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                    </svg>
                    Users
                </button>
            </nav>

            <div class="admin-user">
                <div class="admin-status">
                    <span class="status-dot active"></span>
                    <span id="adminUsername">Admin</span>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                        <polyline points="16 17 21 12 16 7" />
                        <line x1="21" y1="12" x2="9" y2="12" />
                    </svg>
                </button>
            </div>
        </aside>

        <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

        <main class="admin-main">
            <div class="mobile-header">
                <button class="menu-btn" onclick="toggleSidebar()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12" />
                        <line x1="3" y1="6" x2="21" y2="6" />
                        <line x1="3" y1="18" x2="21" y2="18" />
                    </svg>
                </button>
                <span class="mobile-title">SecureConnect Admin</span>
            </div>

            <!-- Login Screen -->
            <div class="admin-login" id="adminLogin">
                <div class="login-card">
                    <div class="login-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                            <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                        </svg>
                        <h2>Admin Authentication</h2>
                    </div>
                    <form id="adminLoginForm">
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" id="adminUsernameInput" value="admin" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="adminPasswordInput" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <span>Access Panel</span>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7" />
                            </svg>
                        </button>
                        <div class="error-message" id="adminLoginError"></div>
                    </form>
                </div>
            </div>

            <!-- Transactions Tab -->
            <div class="admin-content hidden" id="transactionsTab">
                <div class="content-header">
                    <div>
                        <h1>Pending Transactions</h1>
                        <p>Review and approve credit purchases</p>
                    </div>
                    <button class="refresh-btn" onclick="loadPendingTransactions()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10" />
                            <polyline points="1 20 1 14 7 14" />
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" />
                        </svg>
                        Refresh
                    </button>
                </div>

                <div class="transactions-grid" id="transactionsGrid">
                    <div class="loading">Loading transactions...</div>
                </div>
            </div>

            <!-- Users Tab -->
            <div class="admin-content hidden" id="usersTab">
                <div class="content-header">
                    <div>
                        <h1>User Management</h1>
                        <p>Overview of all registered users</p>
                    </div>
                    <button class="refresh-btn" onclick="loadUsers()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10" />
                            <polyline points="1 20 1 14 7 14" />
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" />
                        </svg>
                        Refresh
                    </button>
                </div>

                <div class="users-table-container">
                    <table class="users-table" id="usersTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Credits</th>
                                <th>Joined</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr>
                                <td colspan="5" class="loading">Loading users...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="/js/admin.js"></script>
</body>

</html>